<!DOCTYPE html>
<html lang="en">
<head>
    <title>Assignment 07</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
        integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js"
        integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+"
        crossorigin="anonymous"></script>

</head>
<body>
<h1 class="text-primary" style="--bs-text-opacity: .5;">Find the treasure by Naidu Udaya Sri</h1>
<br>
<div class="container-fluid">
  <div class="bg-dark p-2 text-black bg-opacity-25">Click on the locations to search for treasure, beware the traps</div>
    <div class="bg-white p-2 text-emphasis-dark" id="locations">Number of locations checked is zero</div>
    <div class="bg-dark text-emphasis-dark bg-opacity-10" id="penalty"> Penalty is zero.</div>
    <div class="bg-dark p-2 text-dark bg-opacity-50" id="penalty">Click for help.</div>
    <div class="p-3 mb-2 bg-white text-emphasis-dark" id="help"> Help report.</div>
</div>
<div class="container">
    <div class="image-container">
    <div class="row">
      <div class="col-1"><img src="wurm.jpg" alt="Position 1" width="100" height="100" id="loc1"></div>
      <div class="col-1"><img src="wurm.jpg" alt="Position 2" width="100" height="100" id="loc2"></div>
      <div class="col-1"><img src="wurm.jpg" alt="Position 3" width="100" height="100" id="loc3"></div>
      <div class="col-1"><img src="wurm.jpg" alt="Position 4" width="100" height="100" id="loc4"></div>
      <div class="col-1"><img src="wurm.jpg" alt="Position 5" width="100" height="100" id="loc5"></div>
    </div>
    <div class="row">
      <div class="col-1"><img src="wurm.jpg" alt="Position 1" width="100" height="100" id="loc6"></div>
      <div class="col-1"><img src="wurm.jpg" alt="Position 2" width="100" height="100" id="loc7"></div>
      <div class="col-1"><img src="wurm.jpg" alt="Position 3" width="100" height="100" id="loc8"></div>
      <div class="col-1"><img src="wurm.jpg" alt="Position 4" width="100" height="100" id="loc9"></div>
      <div class="col-1"><img src="wurm.jpg" alt="Position 5" width="100" height="100" id="loc10"></div>
      </div>
    <div class="row">
      <div class="col-1"><img src="wurm.jpg" alt="Position 1" width="100" height="100" id="loc11"></div>
      <div class="col-1"><img src="wurm.jpg" alt="Position 2" width="100" height="100" id="loc12"></div>
      <div class="col-1"><img src="wurm.jpg" alt="Position 3" width="100" height="100" id="loc13"></div>
      <div class="col-1"><img src="wurm.jpg" alt="Position 4" width="100" height="100" id="loc14"></div>
      <div class="col-1"><img src="wurm.jpg" alt="Position 5" width="100" height="100" id="loc15"></div>
    </div>
    <div class="row">
      <div class="col-1"><img src="wurm.jpg" alt="Position 1" width="100" height="100" id="loc16"></div>
      <div class="col-1"><img src="wurm.jpg" alt="Position 2" width="100" height="100" id="loc17"></div>
      <div class="col-1"><img src="wurm.jpg" alt="Position 3" width="100" height="100" id="loc18"></div>
      <div class="col-1"><img src="wurm.jpg" alt="Position 4" width="100" height="100" id="loc19"></div>
      <div class="col-1"><img src="wurm.jpg" alt="Position 5" width="100" height="100" id="loc20"></div>
      </div>
    <div class="row row-cols-auto">
      <div class="col-1"><img src="wurm.jpg" alt="Position 1" width="100" height="100" id="loc21"></div>
      <div class="col-1"><img src="wurm.jpg" alt="Position 2" width="100" height="100" id="loc22"></div>
      <div class="col-1"><img src="wurm.jpg" alt="Position 3" width="100" height="100" id="loc23"></div>
      <div class="col-1"><img src="wurm.jpg" alt="Position 4" width="100" height="100" id="loc24"></div>
      <div class="col-1"><img src="wurm.jpg" alt="Position 5" width="100" height="100" id="loc25"></div>
    </div>
    </div>
    </div>
    <script>
        let ids = [ "loc0" ,"loc1" ,"loc2" ,"loc3" ,"loc4" ,
                    "loc5" ,"loc6" ,"loc7" ,"loc8" ,"loc9" , 
                    "loc10","loc11","loc12","loc13","loc14", 
                    "loc15","loc16","loc17","loc18","loc19", 
                    "loc20","loc21","loc22","loc23","loc24"];
        let checkCount = 0;
        var penalty = 0;
        let lastCheck = 0;
        let treasureLocation = Math.floor(Math.random() * 25);
        let trapLocation = Math.floor(Math.random() * 25);
        let gameOver = false;

        function check(position) {
            if (gameOver) {
                return;
            }
            var id = ids[position];
            var img = document.getElementById(id);

            if (position == treasureLocation) {
                img.src = "treasure.jpg";
                gameOver = true;
                penalty = penalty - 3;
            }
            else if (position == trapLocation) {
                img.src = "trap.jpg";
                gameOver = true;
                penalty = penalty + 4;
            }
            else if (trapLocation === treasureLocation) {
                trapLocation = Math.floor(Math.random() * 25);
            }
            else {
                img.src = "Bone.jpg";
            }
            checkCount++;
            penalty++;
            var id_location = document.getElementById("locations");
            id_penalty = document.getElementById("penalty");
            id_location.innerHTML = `Number of locations checked is  ${checkCount}`;
            id_penalty.innerHTML = `Penalty is ${penalty}`;
            lastCheck = position;
        }
        function help() {
            console.log("triggered");
            let col = treasureLocation % 5;
            let row = Math.floor((treasureLocation - 1) / 5);
            let col1 = lastCheck % 5;
            let row1 = Math.floor((lastCheck - 1) / 5);
            let rowDiff = Math.abs(row - row1);
            let colDiff = Math.abs(col - col1);
            if ((rowDiff === 1 && colDiff === 0) || (rowDiff === 0 && colDiff === 1)) {
                console.log("can smell it");
                document.getElementById("help").textContent = 'Can smell it';
            }
            else if (rowDiff + colDiff === 2) {
                console.log("close matie");
                document.getElementById("help").textContent = 'Close Matie';
            }
            else {
                console.log("step faster");
                document.getElementById("help").textContent = 'Step Faster';
            }
            penalty += 2;
            id_penalty.innerHTML = `Penalty is ${penalty}`;
        }
    </script>
</body>
</html>
  </body>
  </html>